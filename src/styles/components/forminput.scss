@use "sass:map";
@use "sass:list";
@use "../common/colors";

.form__input {
    $field-width: 12rem;
    $input-padding: 0.7rem, 0.5rem, 0.2rem, 0.5rem;
    $field-color: map.get(colors.$colors, "c-white");
    $border-color: map.get(colors.$colors, "c-gray");
    $text-field-color: map.get(colors.$colors, "c-black");
    $text-label-color: map.get(colors.$colors, "c-black");
    $text-smalllabel-color: map.get(colors.$colors, "c-gray");
    &-text {
        position: relative;

        %form-input-text-common {
            position: absolute;

            transition-duration: 0.15s;

            font-size: 1rem;
        }

        %form-input-text-smalllabel {
            top: 0.1rem;
            left: 0.7rem;

            font-size: 0.6rem;
            color: $text-smalllabel-color;
        }

        &:after {
            display: block;
            width: $field-width;
            height: 2.2rem;
            padding-right: 0.45rem;

            content: "";
        }

        & > input {
            @extend %form-input-text-common;
            padding: nth($input-padding, 1) nth($input-padding, 2)
                nth($input-padding, 3) nth($input-padding, 4);
            width: calc(
                #{$field-width - nth($input-padding, 2) - nth($input-padding, 4) -
                    #{2px}}
            );

            border: 1px solid $border-color;
            border-radius: 15px;
            outline: 0;
            background-color: $field-color;
            color: $text-field-color;

            &:hover {
                box-shadow: 0 0 0 1px $border-color;
            }

            &:focus {
                box-shadow: 0 0 0 2px $border-color;
            }

            &:focus + label {
                @extend %form-input-text-smalllabel;
            }
        }

        &.notblank > label {
            @extend %form-input-text-smalllabel;
        }

        & > label {
            @extend %form-input-text-common;
            top: calc(50% - 0.67rem);
            left: 0.6rem;

            color: $text-label-color;
        }
    }

    &-file {
        display: flex;
        align-items: flex-start;

        input {
            display: none;
        }

        label {
            display: inline-block;
            margin-right: 0.5rem;

            color: $text-label-color;
        }
        p {
            margin: 0;
        }
    }
}
